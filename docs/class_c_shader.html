<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gr2: CShader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Gr2
   </div>
   <div id="projectbrief">A divinely inspired graphics library for ZenithOS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_c_shader.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_c_shader-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CShader Class Reference<div class="ingroups"><a class="el" href="group___render.html">Render</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>User-programmed and passed to renderer.  
 <a href="class_c_shader.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:acc713c927a0985d401e2caeea816c03c"><td class="memItemLeft" align="right" valign="top">I64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_shader.html#acc713c927a0985d401e2caeea816c03c">nVertValues</a></td></tr>
<tr class="memdesc:acc713c927a0985d401e2caeea816c03c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of vertex attributes to interpolate and pass between the vertex and fragment shader.  <a href="class_c_shader.html#acc713c927a0985d401e2caeea816c03c">More...</a><br /></td></tr>
<tr class="separator:acc713c927a0985d401e2caeea816c03c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae219391c11649d2ba8e0bdadaea164d6"><td class="memItemLeft" align="right" valign="top">I64 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_shader.html#ae219391c11649d2ba8e0bdadaea164d6">vertValues</a></td></tr>
<tr class="memdesc:ae219391c11649d2ba8e0bdadaea164d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of vertex attribute types that describes the format of the vertex attributes.  <a href="class_c_shader.html#ae219391c11649d2ba8e0bdadaea164d6">More...</a><br /></td></tr>
<tr class="separator:ae219391c11649d2ba8e0bdadaea164d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a978757bf193a6a5756bd21a6827c8555"><td class="memItemLeft" align="right" valign="top">U0(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_shader.html#a978757bf193a6a5756bd21a6827c8555">VertShd</a> )(<a class="el" href="class_c_tri.html">CTri</a> *tri, F64 *vertOutBuf, U8 *mdlPtr, U8 *uniforms, I64 iTri, I64 nTris)</td></tr>
<tr class="memdesc:a978757bf193a6a5756bd21a6827c8555"><td class="mdescLeft">&#160;</td><td class="mdescRight">The vertex shader serves the purpose of returning a triangle in NDC (normalized device coordinates), as well as returning a buffer containing other vertex attributes such as position/normals/UVs.  <a href="class_c_shader.html#a978757bf193a6a5756bd21a6827c8555">More...</a><br /></td></tr>
<tr class="separator:a978757bf193a6a5756bd21a6827c8555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dee4b0fbec089897376f77b8b19b00e"><td class="memItemLeft" align="right" valign="top">U0(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_shader.html#a2dee4b0fbec089897376f77b8b19b00e">FragShd</a> )(CBGR24 *color, F64 *fragInBuf, U8 *uniforms)</td></tr>
<tr class="memdesc:a2dee4b0fbec089897376f77b8b19b00e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The fragment shader serves the purpose of calculating the color for the current fragment (pixel) using the passed-in interpolated vertex attributes, as well as anything else given in the uniform buffer.  <a href="class_c_shader.html#a2dee4b0fbec089897376f77b8b19b00e">More...</a><br /></td></tr>
<tr class="separator:a2dee4b0fbec089897376f77b8b19b00e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>User-programmed and passed to renderer. </p>
<p>Calculates on-screen coordinates of every triangle vertex, as well as the color for any given pixel being rasterized.</p>
<p>Render Pipeline:</p>
<p>1) Vertex shader feeds in triangle coordinates in NDC format (Normalized Device Coordinates), as well as other per-vertex values it would like to interpolate and later feed to the frag shader.</p>
<p>2) Using these NDC triangle coordinates, the rasterizer calculates pixel positions of the triangles on the texture, and interpolates the per-vertex values given by the vertex shader into values for the particular fragment (pixel).</p>
<p>3) The fragment shader is called, with the interpolated fragment values fed in, and it calculates the color to be drawn at that particular fragment. </p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a2dee4b0fbec089897376f77b8b19b00e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dee4b0fbec089897376f77b8b19b00e">&#9670;&nbsp;</a></span>FragShd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">U0(* CShader::FragShd) (CBGR24 *color, F64 *fragInBuf, U8 *uniforms)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The fragment shader serves the purpose of calculating the color for the current fragment (pixel) using the passed-in interpolated vertex attributes, as well as anything else given in the uniform buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vertBuf</td><td>Interpolated vertex attributes at that frag (ie: position, uv, normal). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uniforms</td><td>Unchanging variables throughout the render (ie: perspective/lighting/textures). </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">color</td><td>Color calculated for this fragment. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acc713c927a0985d401e2caeea816c03c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc713c927a0985d401e2caeea816c03c">&#9670;&nbsp;</a></span>nVertValues</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">I64 CShader::nVertValues</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of vertex attributes to interpolate and pass between the vertex and fragment shader. </p>
<p>For example if you wanted to pas&#x2405;s an interpolated position and UV coordinate to the fragment shader, this value would be 2. </p>

</div>
</div>
<a id="a978757bf193a6a5756bd21a6827c8555"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a978757bf193a6a5756bd21a6827c8555">&#9670;&nbsp;</a></span>VertShd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">U0(* CShader::VertShd) (<a class="el" href="class_c_tri.html">CTri</a> *tri, F64 *vertOutBuf, U8 *mdlPtr, U8 *uniforms, I64 iTri, I64 nTris)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The vertex shader serves the purpose of returning a triangle in NDC (normalized device coordinates), as well as returning a buffer containing other vertex attributes such as position/normals/UVs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">tri</td><td>Returned triangle (in NDC). </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">vertOutBuf</td><td>Vertex attributes to be interpolated for the frag shader. These are in format: Vertex 0 values, Vertex 1 values, Vertex 2 values, where values has the format defined by vertValues in <a class="el" href="class_c_shader.html" title="User-programmed and passed to renderer.">CShader</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mdlPtr</td><td>The pointer to the model to calculate the output triangle from. There is no predefined model format, the user can give the renderer any model they want and interpret it in this function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uniforms</td><td>Unchanging variables throughout the render (ie: perspective/lighting/textures). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">iTri</td><td>Index of triangle to calculate. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nTris</td><td>Total triangles being rendered. This function only calculates one triangle but this is given if accessing a triangle in your model depends on this value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae219391c11649d2ba8e0bdadaea164d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae219391c11649d2ba8e0bdadaea164d6">&#9670;&nbsp;</a></span>vertValues</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">I64* CShader::vertValues</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Array of vertex attribute types that describes the format of the vertex attributes. </p>
<p>See SHD_ macros for types.</p>
<p>For example if you wanted to pass an interpolated position and UV coordinate to the fragment shader, this array would be {SHD_CVEC2, SHD_CVEC3}. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Gr2/Render/Shader.CC</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_c_shader.html">CShader</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
